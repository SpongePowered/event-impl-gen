import org.gradle.api.publish.maven.tasks.AbstractPublishToMaven

dependencies {
    annotationProcessor project(":")
    compileOnlyApi project(":event-impl-gen-annotations")

    // Tests
    testImplementation "org.assertj:assertj-core:3.20.1"
    testImplementation "org.ow2.asm:asm-util:9.1" // for CheckSignatureAdapter
    testImplementation "org.junit.jupiter:junit-jupiter-api:5.7.2"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:5.7.2"
}

compileJava {
    // options.compilerArgs << '-AeventGenFactory=test.event.TestEventFactory'
    
    aptOptions {
        processorArgs = ['eventGenFactory': 'test.event.TestEventFactory']
    }
}

tasks.withType(AbstractPublishToMaven).configureEach {
    enabled = false
}