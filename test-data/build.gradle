dependencies {
    annotationProcessor project(":")
    compileOnlyApi project(":event-impl-gen-annotations")

    // Tests
    testImplementation "org.assertj:assertj-core:3.23.1"
    testImplementation "org.junit.jupiter:junit-jupiter-api:5.9.1"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:5.9.1"
}

tasks.named('compileJava').configure {
    // options.compilerArgs << '-AeventGenFactory=test.event.TestEventFactory'
    // options.compilerArgs << '-Xlint:-processing'
    
    aptOptions {
        processorArgs = [
            'eventGenFactory': 'test.event.TestEventFactory',
            'eventGenDebug': 'true'
        ]
    }
}

tasks.withType(AbstractPublishToMaven).configureEach {
    enabled = false
}